<!DOCTYPE html><html lang="en"><head><script>window.currentUser = null;</script><script>window.rateUsdToNative = 1;</script><title itemprop="name">Popups and window methods</title><link href="/pack/styles.d6e712fda8b9d95f7338.css" rel="stylesheet"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><script>if (window.devicePixelRatio > 1) document.cookie = 'pixelRatio=' + window.devicePixelRatio + ';path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT';</script><link href="//fonts.googleapis.com/css?family=Open+Sans:bold,italic,bolditalic" rel="stylesheet"><link rel="apple-touch-icon-precomposed" href="/img/favicon/apple-touch-icon-precomposed.png"><link rel="canonical" href="https://javascript.info/popup-windows"><meta name="msapplication-TileColor" content="#222A2C"><meta name="msapplication-TileImage" content="/img/favicon/tileicon.png"><link rel="icon" href="/img/favicon/favicon.png"><meta itemprop="image" content="https://javascript.info/img/site_preview_en_512x512.png"><meta property="og:title" content="Popups and window methods"><meta property="og:image" content="https://javascript.info/img/site_preview_en_1200x630.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="fb:admins" content="100001562528165"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Popups and window methods"><meta name="twitter:site" content="@iliakan"><meta name="twitter:creator" content="@iliakan"><meta name="twitter:image" content="https://javascript.info/img/site_preview_en_512x512.png"><link rel="prev" href="/frames-and-windows"><link rel="next" href="/cross-window-communication"><script>window.GA_ID = "UA-2056213-15";</script><script>window.YANDEX_METRIKA_ID = 32184394;</script><script>window.GoogleAnalyticsObject="ga",window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[],window.ga.l=Date.now(),ga("create",GA_ID,"auto"),window.GTM_ID&&ga("require",GTM_ID),window.currentUser?ga("set","&uid",currentUser.id):ga("set","anonymizeIp",!0),window.addEventListener("error",function(e){var r=(e.filename||e.errorUrl)+": "+(e.lineno||e.errorLine),n=e.stack||e.error&&e.error.stack;ga("send","exception",{exDescription:e.message+" "+r+" "+n,exFatal:!0})});</script><script src="https://www.google-analytics.com/analytics.js" async></script><script>ga('send', 'pageview');</script><script>window.metrika={reachGoal:function(){}},window.yandex_metrika_callbacks=[function(){try{window.metrika=new Ya.Metrika({id:YANDEX_METRIKA_ID,webvisor:!0,clickmap:!0,params:{user:window.currentUser&&window.currentUser.id}}),metrika.trackLinks({delay:150}),window.addEventListener("error",function(r){window.metrika.reachGoal("JSERROR",{src:(r.filename||r.errorUrl)+": "+(r.lineno||r.errorLine),stack:r.stack||r.error&&r.error.stack,message:r.message})})}catch(r){}}];</script><script src="//mc.yandex.ru/metrika/watch.js" async></script><script>window.RECAPTCHA_ID = "6LfmLAEVAAAAAJMykMnf7aY8nkyTRmYi2ynx51R1";</script><script src="/pack/init.51e39bc929812b94c4a8.js"></script><script src="/pack/head.7a1dfd85e1f5c29a4840.js" defer></script><meta property="og:title" content="Popups and window methods"><meta property="og:type" content="article"><script src="/pack/tutorial.a2cb726ed10a7d440094.js" defer></script><script src="/pack/footer.2786f555ff370bdde300.js" defer></script></head><body class="no-icons"><script>window.fontTest();</script><div class="page-wrapper page-wrapper_sidebar_on"><!--[if IE]><div style="color:red;text-align:center">Sorry, Internet Explorer is not supported, please use a newer browser.</div><![endif]--><div class="sitetoolbar sitetoolbar_tutorial"><script>window.langs = [{"code":"ar","name":"Arabic"},{"code":"az","name":"Azerbaijani"},{"code":"bg","name":"Bulgarian"},{"code":"bn","name":"Bengali"},{"code":"ca","name":"Catalan"},{"code":"cs","name":"Czech"},{"code":"da","name":"Danish"},{"code":"de","name":"German"},{"code":"el","name":"Greek"},{"code":"en","name":"English"},{"code":"es","name":"Spanish"},{"code":"fa","name":"Persian (Farsi)"},{"code":"fi","name":"Finnish"},{"code":"fr","name":"French"},{"code":"he","name":"Hebrew"},{"code":"hi","name":"Hindi"},{"code":"hr","name":"Croatian"},{"code":"hu","name":"Hungarian"},{"code":"hy","name":"Armenian"},{"code":"id","name":"Indonesian"},{"code":"it","name":"Italian"},{"code":"ja","name":"Japanese"},{"code":"ka","name":"Georgian"},{"code":"kk","name":"Kazakh"},{"code":"km","name":"Central Khmer"},{"code":"ko","name":"Korean"},{"code":"lt","name":"Lithuanian"},{"code":"me","name":"Montenegrin"},{"code":"ml","name":"Malayalam"},{"code":"my","name":"Burmese"},{"code":"nl","name":"Dutch"},{"code":"no","name":"Norvegian"},{"code":"pa","name":"Punjabi"},{"code":"pl","name":"Polish"},{"code":"pt","name":"Portuguese"},{"code":"ro","name":"Romanian"},{"code":"ru","name":"Russian"},{"code":"si","name":"Sinhala"},{"code":"sk","name":"Slovak"},{"code":"sl","name":"Slovenian"},{"code":"sq","name":"Albanian"},{"code":"sr","name":"Serbian"},{"code":"ta","name":"Tamil"},{"code":"te","name":"Telugu"},{"code":"test","name":"Test"},{"code":"th","name":"Thai"},{"code":"tk","name":"Turkmen"},{"code":"tr","name":"Turkish"},{"code":"uk","name":"Ukrainian"},{"code":"ur","name":"Urdu"},{"code":"uz","name":"Uzbek"},{"code":"v2","name":"v2"},{"code":"vi","name":"Vietnamese"},{"code":"zh-hant","name":"Chinese Traditional"},{"code":"zh","name":"Chinese"}];</script><script>window.lang = "en";</script><script>{let t=navigator.languages||[];t=t.map(t=>t.toLowerCase());let o,i,n=[];for(let o of window.langs)for(let i of t)if(i===o.code||i.startsWith(o.code+"-")){n.push(o);break}if("en"===lang)o='\n      We created a Discord chat channel :), <a href="https://discord.gg/DT2QwadzJR">click here to join</a>.\n    ',i="notify-discord";else if("ru"!=lang){n.find(t=>"en"==t.code)&&(o=`\n            According to your browser headers, you know English. Please help to <a href="https://github.com/javascript-tutorial/${lang}.javascript.info#readme">translate the tutorial</a>.\n            Thank you!\n          `,i="notify-translate-tutorial-local")}if(o){let t=`<div class="notification notification_top notification_info sitetoolbar__notification" style="display:none" id="${i}">\n          <div class="notification__content">${o}</div>\n          <button class="notification__close" title="Close"></button>\n        </div>`;document.write(t),showTopNotification()}}</script><div class="sitetoolbar__content"><div class="sitetoolbar__lang-switcher"><button class="sitetoolbar__dropdown-button" data-dropdown-toggler>EN</button><div class="sitetoolbar__dropdown-wrap"><div class="sitetoolbar__dropdown-body"><div class="sitetoolbar__lang-switcher-body"><div class="supported-langs supported-langs_toolbar"><div class="supported-langs__container"><ul class="supported-langs__list" style="height:200px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://ar.javascript.info/"><span class="supported-langs__brief">AR</span><span class="supported-langs__title">عربي</span></a></li><li class="supported-langs__item supported-langs__item_current"><a class="supported-langs__link" href="https://javascript.info/popup-windows"><span class="supported-langs__brief">EN</span><span class="supported-langs__title">English</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://es.javascript.info/popup-windows"><span class="supported-langs__brief">ES</span><span class="supported-langs__title">Español</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://fr.javascript.info/popup-windows"><span class="supported-langs__brief">FR</span><span class="supported-langs__title">Français</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://id.javascript.info/popup-windows"><span class="supported-langs__brief">ID</span><span class="supported-langs__title">Indonesia</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://it.javascript.info/popup-windows"><span class="supported-langs__brief">IT</span><span class="supported-langs__title">Italiano</span></a></li></ul><ul class="supported-langs__list" style="height:164px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://ja.javascript.info/popup-windows"><span class="supported-langs__brief">JA</span><span class="supported-langs__title">日本語</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://ko.javascript.info/"><span class="supported-langs__brief">KO</span><span class="supported-langs__title">한국어</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://learn.javascript.ru/popup-windows"><span class="supported-langs__brief">RU</span><span class="supported-langs__title">Русский</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://tr.javascript.info/popup-windows"><span class="supported-langs__brief">TR</span><span class="supported-langs__title">Türkçe</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://zh.javascript.info/popup-windows"><span class="supported-langs__brief">ZH</span><span class="supported-langs__title">简体中文</span></a></li></ul></div><div class="supported-langs__text"><p>We want to make this open-source project available for people all around the world.</p> <p><a href="https://javascript.info/translate">Help to translate</a> the content of this tutorial to your language!</p>
</div></div></div></div></div></div><div class="sitetoolbar__logo-wrap"><a class="sitetoolbar__link sitetoolbar__link_logo" href="/"><img class="sitetoolbar__logo sitetoolbar__logo_normal" src="/img/sitetoolbar__logo_en.svg" width="200" alt="" role="presentation"/><img class="sitetoolbar__logo sitetoolbar__logo_small" src="/img/sitetoolbar__logo_small_en.svg" width="70" alt="" role="presentation"/><script>Array.prototype.forEach.call(document.querySelectorAll("img.sitetoolbar__logo"),function(e){let t=document.createElement("object");t.type="image/svg+xml",t.className=e.className,t.style.cssText="left:0;top:0;position:absolute",t.onload=function(){t.onload=null,e.style.visibility="hidden"},t.data=e.src,e.parentNode.insertBefore(t,e)});</script></a></div><div class="sitetoolbar__nav-toggle-wrap"><button class="sitetoolbar__nav-toggle" type="button"></button></div><nav class="sitetoolbar__sections"><ul class="sitetoolbar__sections-list"></ul></nav><div class="sitetoolbar__book-wrap"><a class="buy-book-button" href="/ebook"><span class="buy-book-button__extra-text">Buy</span>EPUB/PDF</a></div><div class="sitetoolbar__login-wrap"><button class="sitetoolbar__login sitetoolbar__login_unready" data-action-login></button></div><div class="sitetoolbar__search-wrap"><div class="sitetoolbar__search-content"><form class="sitetoolbar__search" method="GET" action="/search"><button class="sitetoolbar__search-toggle" type="button"></button><div class="sitetoolbar__search-input"><div class="text-input"><input class="text-input__control" name="query" placeholder="Search on Javascript.info" required="required" type="text"/></div><button class="sitetoolbar__find" type="submit">Search</button></div></form></div></div></div><div class="tablet-menu"><div class="tablet-menu__line"><div class="tablet-menu__content"><form class="tablet-menu-search" action="/search/"><input class="tablet-menu-search__input" type="search" name="query" placeholder="Search in the tutorial" required="required"/><button class="tablet-menu-search__button" type="submit" name="type" value="articles">Search</button></form></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><a class="map" href="/tutorial/map" data-action="tutorial-map"><span class="map__text">Tutorial map</span></a></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="share-icons"><span class="share-icons__title">Share</span><a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fjavascript.info%2Fpopup-windows" rel="nofollow"></a><a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjavascript.info%2Fpopup-windows" rel="nofollow"></a></div></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><select class="tablet-menu__nav input-select input-select input-select_small" onchange="if(this.value) window.location.href=this.value"><option value="https://ar.javascript.info/">عربي</option><option value="https://javascript.info/popup-windows" selected>English</option><option value="https://es.javascript.info/popup-windows">Español</option><option value="https://fr.javascript.info/popup-windows">Français</option><option value="https://id.javascript.info/popup-windows">Indonesia</option><option value="https://it.javascript.info/popup-windows">Italiano</option><option value="https://ja.javascript.info/popup-windows">日本語</option><option value="https://ko.javascript.info/">한국어</option><option value="https://learn.javascript.ru/popup-windows">Русский</option><option value="https://tr.javascript.info/popup-windows">Türkçe</option><option value="https://zh.javascript.info/popup-windows">简体中文</option></select></div></div></div><progress class="tutorial-progress" data-sticky value="1" max="3" data-tooltip="Lesson 1 of 3"></progress></div><div class="page page_sidebar_on page_inner_padding"><script>if(localStorage.noSidebar){document.querySelector(".page").classList.remove("page_sidebar_on");let e=document.querySelector(".page-wrapper");e&&e.classList.remove("page-wrapper_sidebar_on")}setTimeout(function(){document.querySelector(".page").classList.add("page_sidebar-animation-on")});</script><div class="page__inner"><main class="main main_width-limit"><header class="main__header"><div class="main__header-inner"><div class="main__header-group"><ol class="breadcrumbs"><li class="breadcrumbs__item breadcrumbs__item_home"><a class="breadcrumbs__link" href="/"><span class="breadcrumbs__hidden-text">Tutorial</span></a></li><li class="breadcrumbs__item" id="breadcrumb-1"><a class="breadcrumbs__link" href="/frames-and-windows"><span>Frames and windows</span></a></li><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tutorial","item":"https://javascript.info/"},{"@type":"ListItem","position":2,"name":"Frames and windows","item":"https://javascript.info/frames-and-windows"}]}</script></ol><div class="updated-at" data-tooltip="Last updated at 24th November 2020"><div class="updated-at__content">24th November 2020</div></div></div><h1 class="main__header-title">Popups and window methods</h1></div></header><div class="content"><article class="formatted" itemscope itemtype="http://schema.org/TechArticle"><meta itemprop="name" content="Popups and window methods"><div itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="email" content="iliakan@gmail.com"><meta itemprop="name" content="Ilya Kantor"></div><div itemprop="articleBody"><p>A popup window is one of the oldest methods to show additional document to user.</p>
<p>Basically, you just run:</p>
<div id="j5l2ha3u3g" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>window.open('https://javascript.info/')</code></pre>
        </div>
      </div>
      
      </div><p>…And it will open a new window with given URL. Most modern browsers are configured to open url in new tabs instead of separate windows.</p>
<p>Popups exist from really ancient times. The initial idea was to show another content without closing the main window. As of now, there are other ways to do that: we can load content dynamically with <a href="/fetch">fetch</a> and show it in a dynamically generated <code>&lt;div&gt;</code>. So, popups is not something we use everyday.</p>
<p>Also, popups are tricky on mobile devices, that don’t show multiple windows simultaneously.</p>
<p>Still, there are tasks where popups are still used, e.g. for OAuth authorization (login with Google/Facebook/…), because:</p>
<ol>
<li>A popup is a separate window which has its own independent JavaScript environment. So opening a popup from a third-party, non-trusted site is safe.</li>
<li>It’s very easy to open a popup.</li>
<li>A popup can navigate (change URL) and send messages to the opener window.</li>
</ol>
<h2><a class="main__anchor" name="popup-blocking" href="#popup-blocking">Popup blocking</a></h2><p>In the past, evil sites abused popups a lot. A bad page could open tons of popup windows with ads. So now most browsers try to block popups and protect the user.</p>
<p><strong>Most browsers block popups if they are called outside of user-triggered event handlers like <code>onclick</code>.</strong></p>
<p>For example:</p>
<div id="5gdbgjhthw" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>// popup blocked
window.open('https://javascript.info');

// popup allowed
button.onclick = () =&gt; {
  window.open('https://javascript.info');
};</code></pre>
        </div>
      </div>
      
      </div><p>This way users are somewhat protected from unwanted popups, but the functionality is not disabled totally.</p>
<p>What if the popup opens from <code>onclick</code>, but after <code>setTimeout</code>? That’s a bit tricky.</p>
<p>Try this code:</p>
<div id="tnlvg6b0ru" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>// open after 3 seconds
setTimeout(() =&gt; window.open('http://google.com'), 3000);</code></pre>
        </div>
      </div>
      
      </div><p>The popup opens in Chrome, but gets blocked in Firefox.</p>
<p>…If we decrease the delay, the popup works in Firefox too:</p>
<div id="u7jgikza36" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>// open after 1 seconds
setTimeout(() =&gt; window.open('http://google.com'), 1000);</code></pre>
        </div>
      </div>
      
      </div><p>The difference is that Firefox treats a timeout of 2000ms or less are acceptable, but after it – removes the “trust”, assuming that now it’s “outside of the user action”. So the first one is blocked, and the second one is not.</p>
<h2><a class="main__anchor" name="window-open" href="#window-open">window.open</a></h2><p>The syntax to open a popup is: <code>window.open(url, name, params)</code>:</p>
<dl>
<dt>url</dt>
<dd>An URL to load into the new window.</dd>
<dt>name</dt>
<dd>A name of the new window. Each window has a <code>window.name</code>, and here we can specify which window to use for the popup. If there’s already a window with such name – the given URL opens in it, otherwise a new window is opened.</dd>
<dt>params</dt>
<dd>The configuration string for the new window. It contains settings, delimited by a comma. There must be no spaces in params, for instance: <code>width=200,height=100</code>.</dd>
</dl>
<p>Settings for <code>params</code>:</p>
<ul>
<li>Position:
<ul>
<li><code>left/top</code> (numeric) – coordinates of the window top-left corner on the screen. There is a limitation: a new window cannot be positioned offscreen.</li>
<li><code>width/height</code> (numeric) – width and height of a new window. There is a limit on minimal width/height, so it’s impossible to create an invisible window.</li>
</ul>
</li>
<li>Window features:
<ul>
<li><code>menubar</code> (yes/no) – shows or hides the browser menu on the new window.</li>
<li><code>toolbar</code> (yes/no) – shows or hides the browser navigation bar (back, forward, reload etc) on the new window.</li>
<li><code>location</code> (yes/no) – shows or hides the URL field in the new window. FF and IE don’t allow to hide it by default.</li>
<li><code>status</code> (yes/no) – shows or hides the status bar. Again, most browsers force it to show.</li>
<li><code>resizable</code> (yes/no) – allows to disable the resize for the new window. Not recommended.</li>
<li><code>scrollbars</code> (yes/no) – allows to disable the scrollbars for the new window. Not recommended.</li>
</ul>
</li>
</ul>
<p>There is also a number of less supported browser-specific features, which are usually not used. Check <a href="https://developer.mozilla.org/en/DOM/window.open">window.open in MDN</a> for examples.</p>
<h2><a class="main__anchor" name="example-a-minimalistic-window" href="#example-a-minimalistic-window">Example: a minimalistic window</a></h2><p>Let’s open a window with minimal set of features, just to see which of them browser allows to disable:</p>
<div id="z5he6vh7gd" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>let params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,
width=0,height=0,left=-1000,top=-1000`;

open('/', 'test', params);</code></pre>
        </div>
      </div>
      
      </div><p>Here most “window features” are disabled and window is positioned offscreen. Run it and see what really happens. Most browsers “fix” odd things like zero <code>width/height</code> and offscreen <code>left/top</code>. For instance, Chrome open such a window with full width/height, so that it occupies the full screen.</p>
<p>Let’s add normal positioning options and reasonable <code>width</code>, <code>height</code>, <code>left</code>, <code>top</code> coordinates:</p>
<div id="d5vtkungai" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>let params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,
width=600,height=300,left=100,top=100`;

open('/', 'test', params);</code></pre>
        </div>
      </div>
      
      </div><p>Most browsers show the example above as required.</p>
<p>Rules for omitted settings:</p>
<ul>
<li>If there is no 3rd argument in the <code>open</code> call, or it is empty, then the default window parameters are used.</li>
<li>If there is a string of params, but some <code>yes/no</code> features are omitted, then the omitted features assumed to have <code>no</code> value. So if you specify params, make sure you explicitly set all required features to yes.</li>
<li>If there is no <code>left/top</code> in params, then the browser tries to open a new window near the last opened window.</li>
<li>If there is no <code>width/height</code>, then the new window will be the same size as the last opened.</li>
</ul>
<h2><a class="main__anchor" name="accessing-popup-from-window" href="#accessing-popup-from-window">Accessing popup from window</a></h2><p>The <code>open</code> call returns a reference to the new window. It can be used to manipulate it’s properties, change location and even more.</p>
<p>In this example, we generate popup content from JavaScript:</p>
<div id="ydbh342c58" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>let newWin = window.open(&quot;about:blank&quot;, &quot;hello&quot;, &quot;width=200,height=200&quot;);

newWin.document.write(&quot;Hello, world!&quot;);</code></pre>
        </div>
      </div>
      
      </div><p>And here we modify the contents after loading:</p>
<div id="mz3v7q75gw" data-trusted="1" class="code-example" data-highlight="[{&quot;start&quot;:7,&quot;end&quot;:7}]">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>let newWindow = open('/', 'example', 'width=300,height=300')
newWindow.focus();

alert(newWindow.location.href); // (*) about:blank, loading hasn't started yet

newWindow.onload = function() {
  let html = `&lt;div style=&quot;font-size:30px&quot;&gt;Welcome!&lt;/div&gt;`;
  newWindow.document.body.insertAdjacentHTML('afterbegin', html);
};</code></pre>
        </div>
      </div>
      
      </div><p>Please note: immediately after <code>window.open</code>, the new window isn’t loaded yet. That’s demonstrated by <code>alert</code> in line <code>(*)</code>. So we wait for <code>onload</code> to modify it. We could also use <code>DOMContentLoaded</code> handler for <code>newWin.document</code>.</p>
<div class="important important_warn">
            <div class="important__header"><span class="important__type">Same origin policy</span></div>
            <div class="important__content"><p>Windows may freely access content of each other only if they come from the same origin (the same protocol://domain:port).</p>
<p>Otherwise, e.g. if the main window is from <code>site.com</code>, and the popup from <code>gmail.com</code>, that’s impossible for user safety reasons. For the details, see chapter <a href="/cross-window-communication">Cross-window communication</a>.</p>
</div></div>
<h2><a class="main__anchor" name="accessing-window-from-popup" href="#accessing-window-from-popup">Accessing window from popup</a></h2><p>A popup may access the “opener” window as well using <code>window.opener</code> reference. It is <code>null</code> for all windows except popups.</p>
<p>If you run the code below, it replaces the opener (current) window content with “Test”:</p>
<div id="3wzscs76ir" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>let newWin = window.open(&quot;about:blank&quot;, &quot;hello&quot;, &quot;width=200,height=200&quot;);

newWin.document.write(
  &quot;&lt;script&gt;window.opener.document.body.innerHTML = 'Test'&lt;\/script&gt;&quot;
);</code></pre>
        </div>
      </div>
      
      </div><p>So the connection between the windows is bidirectional: the main window and the popup have a reference to each other.</p>
<h2><a class="main__anchor" name="closing-a-popup" href="#closing-a-popup">Closing a popup</a></h2><p>To close a window: <code>win.close()</code>.</p>
<p>To check if a window is closed: <code>win.closed</code>.</p>
<p>Technically, the <code>close()</code> method is available for any <code>window</code>, but <code>window.close()</code> is ignored by most browsers if <code>window</code> is not created with <code>window.open()</code>. So it’ll only work on a popup.</p>
<p>The <code>closed</code> property is <code>true</code> if the window is closed. That’s useful to check if the popup (or the main window) is still open or not. A user can close it anytime, and our code should take that possibility into account.</p>
<p>This code loads and then closes the window:</p>
<div id="yo7lemube" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>let newWindow = open('/', 'example', 'width=300,height=300');

newWindow.onload = function() {
  newWindow.close();
  alert(newWindow.closed); // true
};</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="moving-and-resizing" href="#moving-and-resizing">Moving and resizing</a></h2><p>There are methods to move/resize a window:</p>
<dl>
<dt><code>win.moveBy(x,y)</code></dt>
<dd>Move the window relative to current position <code>x</code> pixels to the right and <code>y</code> pixels down. Negative values are allowed (to move left/up).</dd>
<dt><code>win.moveTo(x,y)</code></dt>
<dd>Move the window to coordinates <code>(x,y)</code> on the screen.</dd>
<dt><code>win.resizeBy(width,height)</code></dt>
<dd>Resize the window by given <code>width/height</code> relative to the current size. Negative values are allowed.</dd>
<dt><code>win.resizeTo(width,height)</code></dt>
<dd>Resize the window to the given size.</dd>
</dl>
<p>There’s also <code>window.onresize</code> event.</p>
<div class="important important_warn">
            <div class="important__header"><span class="important__type">Only popups</span></div>
            <div class="important__content"><p>To prevent abuse, the browser usually blocks these methods. They only work reliably on popups that we opened, that have no additional tabs.</p>
</div></div>
<div class="important important_warn">
            <div class="important__header"><span class="important__type">No minification/maximization</span></div>
            <div class="important__content"><p>JavaScript has no way to minify or maximize a window. These OS-level functions are hidden from Frontend-developers.</p>
<p>Move/resize methods do not work for maximized/minimized windows.</p>
</div></div>
<h2><a class="main__anchor" name="scrolling-a-window" href="#scrolling-a-window">Scrolling a window</a></h2><p>We already talked about scrolling a window in the chapter <a href="/size-and-scroll-window">Window sizes and scrolling</a>.</p>
<dl>
<dt><code>win.scrollBy(x,y)</code></dt>
<dd>Scroll the window <code>x</code> pixels right and <code>y</code> down relative the current scroll. Negative values are allowed.</dd>
<dt><code>win.scrollTo(x,y)</code></dt>
<dd>Scroll the window to the given coordinates <code>(x,y)</code>.</dd>
<dt><code>elem.scrollIntoView(top = true)</code></dt>
<dd>Scroll the window to make <code>elem</code> show up at the top (the default) or at the bottom for <code>elem.scrollIntoView(false)</code>.</dd>
</dl>
<p>There’s also <code>window.onscroll</code> event.</p>
<h2><a class="main__anchor" name="focus-blur-on-a-window" href="#focus-blur-on-a-window">Focus/blur on a window</a></h2><p>Theoretically, there are <code>window.focus()</code> and <code>window.blur()</code> methods to focus/unfocus on a window. And there are also <code>focus/blur</code> events that allow to catch the moment when the visitor focuses on a window and switches elsewhere.</p>
<p>Although, in practice they are severely limited, because in the past evil pages abused them.</p>
<p>For instance, look at this code:</p>
<div id="nofthlpjhx" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>window.onblur = () =&gt; window.focus();</code></pre>
        </div>
      </div>
      
      </div><p>When a user attempts to switch out of the window (<code>window.onblur</code>), it brings the window back into focus. The intention is to “lock” the user within the <code>window</code>.</p>
<p>So browsers had to introduce many limitations to forbid the code like that and protect the user from ads and evils pages. They depend on the browser.</p>
<p>For instance, a mobile browser usually ignores <code>window.focus()</code> completely. Also focusing doesn’t work when a popup opens in a separate tab rather than a new window.</p>
<p>Still, there are some use cases when such calls do work and can be useful.</p>
<p>For instance:</p>
<ul>
<li>When we open a popup, it’s might be a good idea to run a <code>newWindow.focus()</code> on it. Just in case, for some OS/browser combinations it ensures that the user is in the new window now.</li>
<li>If we want to track when a visitor actually uses our web-app, we can track <code>window.onfocus/onblur</code>. That allows us to suspend/resume in-page activities, animations etc. But please note that the <code>blur</code> event means that the visitor switched out from the window, but they still may observe it. The window is in the background, but still may be visible.</li>
</ul>
<h2><a class="main__anchor" name="summary" href="#summary">Summary</a></h2><p>Popup windows are used rarely, as there are alternatives: loading and displaying information in-page, or in iframe.</p>
<p>If we’re going to open a popup, a good practice is to inform the user about it. An “opening window” icon near a link or button would allow the visitor to survive the focus shift and keep both windows in mind.</p>
<ul>
<li>A popup can be opened by the <code>open(url, name, params)</code> call. It returns the reference to the newly opened window.</li>
<li>Browsers block <code>open</code> calls from the code outside of user actions. Usually a notification appears, so that a user may allow them.</li>
<li>Browsers open a new tab by default, but if sizes are provided, then it’ll be a popup window.</li>
<li>The popup may access the opener window using the <code>window.opener</code> property.</li>
<li>The main window and the popup can freely read and modify each other if they have the same origin. Otherwise, they can change location of each other and <a href="/cross-window-communication">exchange messages</a>.</li>
</ul>
<p>To close the popup: use <code>close()</code> call. Also the user may close them (just like any other windows). The <code>window.closed</code> is <code>true</code> after that.</p>
<ul>
<li>Methods <code>focus()</code> and <code>blur()</code> allow to focus/unfocus a window. But they don’t work all the time.</li>
<li>Events <code>focus</code> and <code>blur</code> allow to track switching in and out of the window. But please note that a  window may still be visible even in the background state, after <code>blur</code>.</li>
</ul>
</div></article></div><div class="page__nav-wrap"><a class="page__nav page__nav_prev" href="/frames-and-windows" data-tooltip="Frames and windows"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Previous lesson</span></a><a class="page__nav page__nav_next" href="/cross-window-communication" data-tooltip="Cross-window communication"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Next lesson</span></a></div><div class="article-tablet-foot tablet-only"><div class="article-tablet-foot__layout"><div class="share-icons"><span class="share-icons__title">Share</span><a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fjavascript.info%2Fpopup-windows" rel="nofollow"></a><a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjavascript.info%2Fpopup-windows" rel="nofollow"></a></div><div class="article-tablet-foot__map"><a class="map" href="/tutorial/map" data-action="tutorial-map"><span class="map__text">Tutorial map</span></a></div></div></div><div class="comments formatted" id="comments"><div class="comments__header"><h2 class="comments__header-title"><a href="#comments" name="comments">Comments</a></h2><div class="comments__read-before"><span class="comments__read-before-link">read this before commenting…</span><div class="comments__read-before-popup"><div class="comments__read-before-popup-i"><ul><li>If you have suggestions what to improve - please <a href="https://github.com/javascript-tutorial/en.javascript.info/issues/new">submit a GitHub issue</a> or a pull request instead of commenting.</li><li>If you can't understand something in the article – please elaborate.</li><li>To insert few words of code, use the <code>&lt;code&gt;</code> tag, for several lines – wrap them in <code>&lt;pre&gt;</code> tag, for more than 10 lines – use a sandbox (<a href='https://plnkr.co/edit/?p=preview'>plnkr</a>, <a href='https://jsbin.com'>jsbin</a>, <a href='http://codepen.io'>codepen</a>…)</li></ul></div></div></div></div><div id="disqus_thread"></div><script>var disqus_config = function() { if (!this.page) this.page = {}; Object.assign(this.page, {"url":"https:\/\/javascript.info\/popup-windows","identifier":"\/popup-windows"}); };</script><script>var disqus_shortname = "javascriptinfo";</script><script>var disqus_enabled = true;</script></div></main></div><div class="sidebar page__sidebar sidebar sidebar_sticky-footer"><button class="sidebar__toggle" data-sidebar-toggle></button><a class="map" href="/tutorial/map" data-action="tutorial-map" data-tooltip="Tutorial map"></a><div class="sidebar__inner"><div class="sidebar__content"><div class="sidebar__section"><h4 class="sidebar__section-title">Chapter</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="/frames-and-windows">Frames and windows</a></li></ul></nav></div><div class="sidebar__section"><h4 class="sidebar__section-title">Lesson navigation</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="#popup-blocking">Popup blocking</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#window-open">window.open</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#example-a-minimalistic-window">Example: a minimalistic window</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#accessing-popup-from-window">Accessing popup from window</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#accessing-window-from-popup">Accessing window from popup</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#closing-a-popup">Closing a popup</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#moving-and-resizing">Moving and resizing</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#scrolling-a-window">Scrolling a window</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#focus-blur-on-a-window">Focus/blur on a window</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#summary">Summary</a></li></ul></nav></div><div class="sidebar__section"><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="#comments">Comments</a></li></ul></nav></div><div class="sidebar__section"><div class="sidebar__section-title">Share</div><a class="share share_tw sidebar__share" href="https://twitter.com/share?url=https%3A%2F%2Fjavascript.info%2Fpopup-windows" rel="nofollow"></a><a class="share share_fb sidebar__share" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2Fjavascript.info%2Fpopup-windows" rel="nofollow"></a></div><div class="sidebar__section"><a class="sidebar__link" href="https://github.com/javascript-tutorial/en.javascript.info/blob/master/3-frames-and-windows/01-popup-windows" rel="nofollow">Edit on GitHub</a></div><div class="sidebar__section" id="sponsorBar"><div class="sidebar__section-title" id="sponsorBarTitle"></div><div id="sponsorBarContent"></div><script>window.initSponsorBar()</script></div></div></div></div></div></div><div class="page-footer"><ul class="page-footer__list"><li class="page-footer__item page-footer__item_copy">©&nbsp;2007—2021&nbsp; Ilya Kantor</li><li class="page-footer__item page-footer__item_about"><a class="page-footer__link" href="/about">about the project</a></li><li class="page-footer__item page-footer__item_contact"><a class="page-footer__link" href="/about#contact-us">contact us</a></li><li class="page-footer__item page-footer__item_terms"><a class="page-footer__link" href="/terms">terms of usage</a></li><li class="page-footer__item page-footer__item_privacy"><a class="page-footer__link" href="/privacy">privacy policy</a></li></ul></div></body></html>