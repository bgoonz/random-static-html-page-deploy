<!DOCTYPE html>
<html lang="en">
  <head>
    <script>
      window.currentUser = null;
    </script>
    <script>
      window.rateUsdToNative = 1;
    </script>
    <title itemprop="name">JSON methods, toJSON</title>
    <link href="/pack/styles.d6e712fda8b9d95f7338.css" rel="stylesheet" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <script>
      if (window.devicePixelRatio > 1)
        document.cookie =
          "pixelRatio=" +
          window.devicePixelRatio +
          ";path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT";
    </script>
    <link
      href="//fonts.googleapis.com/css?family=Open+Sans:bold,italic,bolditalic"
      rel="stylesheet"
    />
    <link
      rel="apple-touch-icon-precomposed"
      href="/img/favicon/apple-touch-icon-precomposed.png"
    />
    <link rel="canonical" href="https://javascript.info/json" />
    <meta name="msapplication-TileColor" content="#222A2C" />
    <meta name="msapplication-TileImage" content="/img/favicon/tileicon.png" />
    <link rel="icon" href="/img/favicon/favicon.png" />
    <meta
      itemprop="image"
      content="https://javascript.info/img/site_preview_en_512x512.png"
    />
    <meta property="og:title" content="JSON methods, toJSON" />
    <meta
      property="og:image"
      content="https://javascript.info/img/site_preview_en_1200x630.png"
    />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="fb:admins" content="100001562528165" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="JSON methods, toJSON" />
    <meta name="twitter:site" content="@iliakan" />
    <meta name="twitter:creator" content="@iliakan" />
    <meta
      name="twitter:image"
      content="https://javascript.info/img/site_preview_en_512x512.png"
    />
    <link rel="prev" href="/date" />
    <link rel="next" href="/advanced-functions" />
    <script>
      window.GA_ID = "UA-2056213-15";
    </script>
    <script>
      window.YANDEX_METRIKA_ID = 32184394;
    </script>
    <script>
      (window.GoogleAnalyticsObject = "ga"),
        (window.ga = function () {
          window.ga.q.push(arguments);
        }),
        (window.ga.q = []),
        (window.ga.l = Date.now()),
        ga("create", GA_ID, "auto"),
        window.GTM_ID && ga("require", GTM_ID),
        window.currentUser
          ? ga("set", "&uid", currentUser.id)
          : ga("set", "anonymizeIp", !0),
        window.addEventListener("error", function (e) {
          var r = (e.filename || e.errorUrl) + ": " + (e.lineno || e.errorLine),
            n = e.stack || (e.error && e.error.stack);
          ga("send", "exception", {
            exDescription: e.message + " " + r + " " + n,
            exFatal: !0,
          });
        });
    </script>
    <script src="https://www.google-analytics.com/analytics.js" async></script>
    <script>
      ga("send", "pageview");
    </script>
    <script>
      (window.metrika = { reachGoal: function () {} }),
        (window.yandex_metrika_callbacks = [
          function () {
            try {
              (window.metrika = new Ya.Metrika({
                id: YANDEX_METRIKA_ID,
                webvisor: !0,
                clickmap: !0,
                params: { user: window.currentUser && window.currentUser.id },
              })),
                metrika.trackLinks({ delay: 150 }),
                window.addEventListener("error", function (r) {
                  window.metrika.reachGoal("JSERROR", {
                    src:
                      (r.filename || r.errorUrl) +
                      ": " +
                      (r.lineno || r.errorLine),
                    stack: r.stack || (r.error && r.error.stack),
                    message: r.message,
                  });
                });
            } catch (r) {}
          },
        ]);
    </script>
    <script src="//mc.yandex.ru/metrika/watch.js" async></script>
    <script>
      window.RECAPTCHA_ID = "6LfmLAEVAAAAAJMykMnf7aY8nkyTRmYi2ynx51R1";
    </script>
    <script src="/pack/init.51e39bc929812b94c4a8.js"></script>
    <script src="/pack/head.7a1dfd85e1f5c29a4840.js" defer></script>
    <meta property="og:title" content="JSON methods, toJSON" />
    <meta property="og:type" content="article" />
    <script src="/pack/tutorial.a2cb726ed10a7d440094.js" defer></script>
    <script src="/pack/footer.2786f555ff370bdde300.js" defer></script>
  </head>
  <body class="no-icons">
    <script>
      window.fontTest();
    </script>
    <div class="page-wrapper page-wrapper_sidebar_on">
      <!--[if IE
        ]><div style="color: red; text-align: center">
          Sorry, Internet Explorer is not supported, please use a newer browser.
        </div><!
      [endif]-->
      <div class="sitetoolbar sitetoolbar_tutorial">
        <script>
          window.langs = [
            { code: "ar", name: "Arabic" },
            { code: "az", name: "Azerbaijani" },
            { code: "bg", name: "Bulgarian" },
            { code: "bn", name: "Bengali" },
            { code: "ca", name: "Catalan" },
            { code: "cs", name: "Czech" },
            { code: "da", name: "Danish" },
            { code: "de", name: "German" },
            { code: "el", name: "Greek" },
            { code: "en", name: "English" },
            { code: "es", name: "Spanish" },
            { code: "fa", name: "Persian (Farsi)" },
            { code: "fi", name: "Finnish" },
            { code: "fr", name: "French" },
            { code: "he", name: "Hebrew" },
            { code: "hi", name: "Hindi" },
            { code: "hr", name: "Croatian" },
            { code: "hu", name: "Hungarian" },
            { code: "hy", name: "Armenian" },
            { code: "id", name: "Indonesian" },
            { code: "it", name: "Italian" },
            { code: "ja", name: "Japanese" },
            { code: "ka", name: "Georgian" },
            { code: "kk", name: "Kazakh" },
            { code: "km", name: "Central Khmer" },
            { code: "ko", name: "Korean" },
            { code: "lt", name: "Lithuanian" },
            { code: "me", name: "Montenegrin" },
            { code: "ml", name: "Malayalam" },
            { code: "my", name: "Burmese" },
            { code: "nl", name: "Dutch" },
            { code: "no", name: "Norvegian" },
            { code: "pa", name: "Punjabi" },
            { code: "pl", name: "Polish" },
            { code: "pt", name: "Portuguese" },
            { code: "ro", name: "Romanian" },
            { code: "ru", name: "Russian" },
            { code: "si", name: "Sinhala" },
            { code: "sk", name: "Slovak" },
            { code: "sl", name: "Slovenian" },
            { code: "sq", name: "Albanian" },
            { code: "sr", name: "Serbian" },
            { code: "ta", name: "Tamil" },
            { code: "te", name: "Telugu" },
            { code: "test", name: "Test" },
            { code: "th", name: "Thai" },
            { code: "tk", name: "Turkmen" },
            { code: "tr", name: "Turkish" },
            { code: "uk", name: "Ukrainian" },
            { code: "ur", name: "Urdu" },
            { code: "uz", name: "Uzbek" },
            { code: "v2", name: "v2" },
            { code: "vi", name: "Vietnamese" },
            { code: "zh-hant", name: "Chinese Traditional" },
            { code: "zh", name: "Chinese" },
          ];
        </script>
        <script>
          window.lang = "en";
        </script>
        <script>
          {
            let t = navigator.languages || [];
            t = t.map((t) => t.toLowerCase());
            let o,
              i,
              n = [];
            for (let o of window.langs)
              for (let i of t)
                if (i === o.code || i.startsWith(o.code + "-")) {
                  n.push(o);
                  break;
                }
            if ("en" === lang)
              (o =
                '\n      We created a Discord chat channel :), <a href="https://discord.gg/DT2QwadzJR">click here to join</a>.\n    '),
                (i = "notify-discord");
            else if ("ru" != lang) {
              n.find((t) => "en" == t.code) &&
                ((o = `\n            According to your browser headers, you know English. Please help to <a href="https://github.com/javascript-tutorial/${lang}.javascript.info#readme">translate the tutorial</a>.\n            Thank you!\n          `),
                (i = "notify-translate-tutorial-local"));
            }
            if (o) {
              let t = `<div class="notification notification_top notification_info sitetoolbar__notification" style="display:none" id="${i}">\n          <div class="notification__content">${o}</div>\n          <button class="notification__close" title="Close"></button>\n        </div>`;
              document.write(t), showTopNotification();
            }
          }
        </script>
        <div class="sitetoolbar__content">
          <div class="sitetoolbar__lang-switcher">
            <button class="sitetoolbar__dropdown-button" data-dropdown-toggler>
              EN
            </button>
            <div class="sitetoolbar__dropdown-wrap">
              <div class="sitetoolbar__dropdown-body">
                <div class="sitetoolbar__lang-switcher-body">
                  <div class="supported-langs supported-langs_toolbar">
                    <div class="supported-langs__container">
                      <ul class="supported-langs__list" style="height: 200px">
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://ar.javascript.info/json"
                            ><span class="supported-langs__brief">AR</span
                            ><span class="supported-langs__title">عربي</span></a
                          >
                        </li>
                        <li
                          class="supported-langs__item supported-langs__item_current"
                        >
                          <a
                            class="supported-langs__link"
                            href="https://javascript.info/json"
                            ><span class="supported-langs__brief">EN</span
                            ><span class="supported-langs__title"
                              >English</span
                            ></a
                          >
                        </li>
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://es.javascript.info/json"
                            ><span class="supported-langs__brief">ES</span
                            ><span class="supported-langs__title"
                              >Español</span
                            ></a
                          >
                        </li>
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://fr.javascript.info/json"
                            ><span class="supported-langs__brief">FR</span
                            ><span class="supported-langs__title"
                              >Français</span
                            ></a
                          >
                        </li>
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://id.javascript.info/json"
                            ><span class="supported-langs__brief">ID</span
                            ><span class="supported-langs__title"
                              >Indonesia</span
                            ></a
                          >
                        </li>
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://it.javascript.info/json"
                            ><span class="supported-langs__brief">IT</span
                            ><span class="supported-langs__title"
                              >Italiano</span
                            ></a
                          >
                        </li>
                      </ul>
                      <ul class="supported-langs__list" style="height: 164px">
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://ja.javascript.info/json"
                            ><span class="supported-langs__brief">JA</span
                            ><span class="supported-langs__title"
                              >日本語</span
                            ></a
                          >
                        </li>
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://ko.javascript.info/json"
                            ><span class="supported-langs__brief">KO</span
                            ><span class="supported-langs__title"
                              >한국어</span
                            ></a
                          >
                        </li>
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://learn.javascript.ru/json"
                            ><span class="supported-langs__brief">RU</span
                            ><span class="supported-langs__title"
                              >Русский</span
                            ></a
                          >
                        </li>
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://tr.javascript.info/json"
                            ><span class="supported-langs__brief">TR</span
                            ><span class="supported-langs__title"
                              >Türkçe</span
                            ></a
                          >
                        </li>
                        <li class="supported-langs__item">
                          <a
                            class="supported-langs__link"
                            href="https://zh.javascript.info/json"
                            ><span class="supported-langs__brief">ZH</span
                            ><span class="supported-langs__title"
                              >简体中文</span
                            ></a
                          >
                        </li>
                      </ul>
                    </div>
                    <div class="supported-langs__text">
                      <p>
                        We want to make this open-source project available for
                        people all around the world.
                      </p>
                      <p>
                        <a href="https://javascript.info/translate"
                          >Help to translate</a
                        >
                        the content of this tutorial to your language!
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="sitetoolbar__logo-wrap">
            <a class="sitetoolbar__link sitetoolbar__link_logo" href="/"
              ><img
                class="sitetoolbar__logo sitetoolbar__logo_normal"
                src="/img/sitetoolbar__logo_en.svg"
                width="200"
                alt=""
                role="presentation"
              /><img
                class="sitetoolbar__logo sitetoolbar__logo_small"
                src="/img/sitetoolbar__logo_small_en.svg"
                width="70"
                alt=""
                role="presentation"
              />
              <script>
                Array.prototype.forEach.call(
                  document.querySelectorAll("img.sitetoolbar__logo"),
                  function (e) {
                    let t = document.createElement("object");
                    (t.type = "image/svg+xml"),
                      (t.className = e.className),
                      (t.style.cssText = "left:0;top:0;position:absolute"),
                      (t.onload = function () {
                        (t.onload = null), (e.style.visibility = "hidden");
                      }),
                      (t.data = e.src),
                      e.parentNode.insertBefore(t, e);
                  }
                );
              </script></a
            >
          </div>
          <div class="sitetoolbar__nav-toggle-wrap">
            <button class="sitetoolbar__nav-toggle" type="button"></button>
          </div>
          <nav class="sitetoolbar__sections">
            <ul class="sitetoolbar__sections-list"></ul>
          </nav>
          <div class="sitetoolbar__book-wrap">
            <a class="buy-book-button" href="/ebook"
              ><span class="buy-book-button__extra-text">Buy</span>EPUB/PDF</a
            >
          </div>
          <div class="sitetoolbar__login-wrap">
            <button
              class="sitetoolbar__login sitetoolbar__login_unready"
              data-action-login
            ></button>
          </div>
          <div class="sitetoolbar__search-wrap">
            <div class="sitetoolbar__search-content">
              <form class="sitetoolbar__search" method="GET" action="/search">
                <button
                  class="sitetoolbar__search-toggle"
                  type="button"
                ></button>
                <div class="sitetoolbar__search-input">
                  <div class="text-input">
                    <input
                      class="text-input__control"
                      name="query"
                      placeholder="Search on Javascript.info"
                      required="required"
                      type="text"
                    />
                  </div>
                  <button class="sitetoolbar__find" type="submit">
                    Search
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="tablet-menu">
          <div class="tablet-menu__line">
            <div class="tablet-menu__content">
              <form class="tablet-menu-search" action="/search/">
                <input
                  class="tablet-menu-search__input"
                  type="search"
                  name="query"
                  placeholder="Search in the tutorial"
                  required="required"
                /><button
                  class="tablet-menu-search__button"
                  type="submit"
                  name="type"
                  value="articles"
                >
                  Search
                </button>
              </form>
            </div>
          </div>
          <div class="tablet-menu__line">
            <div class="tablet-menu__content">
              <a class="map" href="/tutorial/map" data-action="tutorial-map"
                ><span class="map__text">Tutorial map</span></a
              >
            </div>
          </div>
          <div class="tablet-menu__line">
            <div class="tablet-menu__content">
              <div class="share-icons">
                <span class="share-icons__title">Share</span
                ><a
                  class="share share_tw"
                  href="https://twitter.com/share?url=https%3A%2F%2Fjavascript.info%2Fjson"
                  rel="nofollow"
                ></a
                ><a
                  class="share share_fb"
                  href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjavascript.info%2Fjson"
                  rel="nofollow"
                ></a>
              </div>
            </div>
          </div>
          <div class="tablet-menu__line">
            <div class="tablet-menu__content">
              <select
                class="tablet-menu__nav input-select input-select input-select_small"
                onchange="if(this.value) window.location.href=this.value"
              >
                <option value="https://ar.javascript.info/json">عربي</option>
                <option value="https://javascript.info/json" selected>
                  English
                </option>
                <option value="https://es.javascript.info/json">Español</option>
                <option value="https://fr.javascript.info/json">
                  Français
                </option>
                <option value="https://id.javascript.info/json">
                  Indonesia
                </option>
                <option value="https://it.javascript.info/json">
                  Italiano
                </option>
                <option value="https://ja.javascript.info/json">日本語</option>
                <option value="https://ko.javascript.info/json">한국어</option>
                <option value="https://learn.javascript.ru/json">
                  Русский
                </option>
                <option value="https://tr.javascript.info/json">Türkçe</option>
                <option value="https://zh.javascript.info/json">
                  简体中文
                </option>
              </select>
            </div>
          </div>
        </div>
        <progress
          class="tutorial-progress"
          data-sticky
          value="48"
          max="92"
          data-tooltip="Lesson 48 of 92"
        ></progress>
      </div>
      <div class="page page_sidebar_on page_inner_padding">
        <script>
          if (localStorage.noSidebar) {
            document.querySelector(".page").classList.remove("page_sidebar_on");
            let e = document.querySelector(".page-wrapper");
            e && e.classList.remove("page-wrapper_sidebar_on");
          }
          setTimeout(function () {
            document
              .querySelector(".page")
              .classList.add("page_sidebar-animation-on");
          });
        </script>
        <div class="page__inner">
          <main class="main main_width-limit">
            <header class="main__header">
              <div class="main__header-inner">
                <div class="main__header-group">
                  <ol class="breadcrumbs">
                    <li class="breadcrumbs__item breadcrumbs__item_home">
                      <a class="breadcrumbs__link" href="/"
                        ><span class="breadcrumbs__hidden-text"
                          >Tutorial</span
                        ></a
                      >
                    </li>
                    <li class="breadcrumbs__item" id="breadcrumb-1">
                      <a class="breadcrumbs__link" href="/js"
                        ><span>The JavaScript language</span></a
                      >
                    </li>
                    <li class="breadcrumbs__item" id="breadcrumb-2">
                      <a class="breadcrumbs__link" href="/data-types"
                        ><span>Data types</span></a
                      >
                    </li>
                    <script type="application/ld+json">
                      {
                        "@context": "https://schema.org",
                        "@type": "BreadcrumbList",
                        "itemListElement": [
                          {
                            "@type": "ListItem",
                            "position": 1,
                            "name": "Tutorial",
                            "item": "https://javascript.info/"
                          },
                          {
                            "@type": "ListItem",
                            "position": 2,
                            "name": "The JavaScript language",
                            "item": "https://javascript.info/js"
                          },
                          {
                            "@type": "ListItem",
                            "position": 3,
                            "name": "Data types",
                            "item": "https://javascript.info/data-types"
                          }
                        ]
                      }
                    </script>
                  </ol>
                  <div
                    class="updated-at"
                    data-tooltip="Last updated at 15th October 2020"
                  >
                    <div class="updated-at__content">15th October 2020</div>
                  </div>
                </div>
                <h1 class="main__header-title">JSON methods, toJSON</h1>
              </div>
            </header>
            <div class="content">
              <article
                class="formatted"
                itemscope
                itemtype="http://schema.org/TechArticle"
              >
                <meta itemprop="name" content="JSON methods, toJSON" />
                <div
                  itemprop="author"
                  itemscope
                  itemtype="http://schema.org/Person"
                >
                  <meta itemprop="email" content="iliakan@gmail.com" /><meta
                    itemprop="name"
                    content="Ilya Kantor"
                  />
                </div>
                <div itemprop="articleBody">
                  <p>
                    Let’s say we have a complex object, and we’d like to convert
                    it into a string, to send it over a network, or just to
                    output it for logging purposes.
                  </p>
                  <p>
                    Naturally, such a string should include all important
                    properties.
                  </p>
                  <p>We could implement the conversion like this:</p>
                  <div
                    id="ojgenoyv1h"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":4,"end":6}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let user = {
  name: &quot;John&quot;,
  age: 30,

  toString() {
    return `{name: &quot;${this.name}&quot;, age: ${this.age}}`;
  }
};

alert(user); // {name: &quot;John&quot;, age: 30}</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    …But in the process of development, new properties are
                    added, old properties are renamed and removed. Updating such
                    <code>toString</code> every time can become a pain. We could
                    try to loop over properties in it, but what if the object is
                    complex and has nested objects in properties? We’d need to
                    implement their conversion as well.
                  </p>
                  <p>
                    Luckily, there’s no need to write the code to handle all
                    this. The task has been solved already.
                  </p>
                  <h2>
                    <a
                      class="main__anchor"
                      name="json-stringify"
                      href="#json-stringify"
                      >JSON.stringify</a
                    >
                  </h2>
                  <p>
                    The
                    <a href="http://en.wikipedia.org/wiki/JSON">JSON</a>
                    (JavaScript Object Notation) is a general format to
                    represent values and objects. It is described as in
                    <a href="http://tools.ietf.org/html/rfc4627">RFC 4627</a>
                    standard. Initially it was made for JavaScript, but many
                    other languages have libraries to handle it as well. So it’s
                    easy to use JSON for data exchange when the client uses
                    JavaScript and the server is written on
                    Ruby/PHP/Java/Whatever.
                  </p>
                  <p>JavaScript provides methods:</p>
                  <ul>
                    <li>
                      <code>JSON.stringify</code> to convert objects into JSON.
                    </li>
                    <li>
                      <code>JSON.parse</code> to convert JSON back into an
                      object.
                    </li>
                  </ul>
                  <p>
                    For instance, here we <code>JSON.stringify</code> a student:
                  </p>
                  <div
                    id="csfz9y9gcf"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":13,"end":21},{"start":8,"end":8}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let student = {
  name: 'John',
  age: 30,
  isAdmin: false,
  courses: ['html', 'css', 'js'],
  wife: null
};

let json = JSON.stringify(student);

alert(typeof json); // we've got a string!

alert(json);
/* JSON-encoded object:
{
  &quot;name&quot;: &quot;John&quot;,
  &quot;age&quot;: 30,
  &quot;isAdmin&quot;: false,
  &quot;courses&quot;: [&quot;html&quot;, &quot;css&quot;, &quot;js&quot;],
  &quot;wife&quot;: null
}
*/</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    The method <code>JSON.stringify(student)</code> takes the
                    object and converts it into a string.
                  </p>
                  <p>
                    The resulting <code>json</code> string is called a
                    <em>JSON-encoded</em> or <em>serialized</em> or
                    <em>stringified</em> or <em>marshalled</em> object. We are
                    ready to send it over the wire or put into a plain data
                    store.
                  </p>
                  <p>
                    Please note that a JSON-encoded object has several important
                    differences from the object literal:
                  </p>
                  <ul>
                    <li>
                      Strings use double quotes. No single quotes or backticks
                      in JSON. So <code>'John'</code> becomes
                      <code>&quot;John&quot;</code>.
                    </li>
                    <li>
                      Object property names are double-quoted also. That’s
                      obligatory. So <code>age:30</code> becomes
                      <code>&quot;age&quot;:30</code>.
                    </li>
                  </ul>
                  <p>
                    <code>JSON.stringify</code> can be applied to primitives as
                    well.
                  </p>
                  <p>JSON supports following data types:</p>
                  <ul>
                    <li>Objects <code>{ ... }</code></li>
                    <li>Arrays <code>[ ... ]</code></li>
                    <li>
                      Primitives:
                      <ul>
                        <li>strings,</li>
                        <li>numbers,</li>
                        <li>boolean values <code>true/false</code>,</li>
                        <li><code>null</code>.</li>
                      </ul>
                    </li>
                  </ul>
                  <p>For instance:</p>
                  <div id="l7qz2k5d6i" data-trusted="1" class="code-example">
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>// a number in JSON is just a number
alert( JSON.stringify(1) ) // 1

// a string in JSON is still a string, but double-quoted
alert( JSON.stringify('test') ) // &quot;test&quot;

alert( JSON.stringify(true) ); // true

alert( JSON.stringify([1, 2, 3]) ); // [1,2,3]</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    JSON is data-only language-independent specification, so
                    some JavaScript-specific object properties are skipped by
                    <code>JSON.stringify</code>.
                  </p>
                  <p>Namely:</p>
                  <ul>
                    <li>Function properties (methods).</li>
                    <li>Symbolic keys and values.</li>
                    <li>Properties that store <code>undefined</code>.</li>
                  </ul>
                  <div id="ni9z3zoeru" data-trusted="1" class="code-example">
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let user = {
  sayHi() { // ignored
    alert(&quot;Hello&quot;);
  },
  [Symbol(&quot;id&quot;)]: 123, // ignored
  something: undefined // ignored
};

alert( JSON.stringify(user) ); // {} (empty object)</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    Usually that’s fine. If that’s not what we want, then soon
                    we’ll see how to customize the process.
                  </p>
                  <p>
                    The great thing is that nested objects are supported and
                    converted automatically.
                  </p>
                  <p>For instance:</p>
                  <div
                    id="724ngy7rrm"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":2,"end":5}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let meetup = {
  title: &quot;Conference&quot;,
  room: {
    number: 23,
    participants: [&quot;john&quot;, &quot;ann&quot;]
  }
};

alert( JSON.stringify(meetup) );
/* The whole structure is stringified:
{
  &quot;title&quot;:&quot;Conference&quot;,
  &quot;room&quot;:{&quot;number&quot;:23,&quot;participants&quot;:[&quot;john&quot;,&quot;ann&quot;]},
}
*/</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    The important limitation: there must be no circular
                    references.
                  </p>
                  <p>For instance:</p>
                  <div
                    id="abbvyeyqen"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":12,"end":12}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let room = {
  number: 23
};

let meetup = {
  title: &quot;Conference&quot;,
  participants: [&quot;john&quot;, &quot;ann&quot;]
};

meetup.place = room;       // meetup references room
room.occupiedBy = meetup; // room references meetup

JSON.stringify(meetup); // Error: Converting circular structure to JSON</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    Here, the conversion fails, because of circular reference:
                    <code>room.occupiedBy</code> references <code>meetup</code>,
                    and <code>meetup.place</code> references <code>room</code>:
                  </p>
                  <figure>
                    <div class="image" style="width: 188px">
                      <div
                        class="image__ratio"
                        style="padding-top: 102.12765957446808%"
                      ></div>
                      <object
                        type="image/svg+xml"
                        data="/article/json/json-meetup.svg"
                        width="188"
                        height="192"
                        class="image__image"
                      >
                        <img
                          src="/article/json/json-meetup.svg"
                          alt=""
                          width="188"
                          height="192"
                        />
                      </object>
                    </div>
                  </figure>
                  <h2>
                    <a
                      class="main__anchor"
                      name="excluding-and-transforming-replacer"
                      href="#excluding-and-transforming-replacer"
                      >Excluding and transforming: replacer</a
                    >
                  </h2>
                  <p>The full syntax of <code>JSON.stringify</code> is:</p>
                  <div id="scvo6sh891" data-trusted="1" class="code-example">
                    <div class="codebox code-example__codebox">
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let json = JSON.stringify(value[, replacer, space])</code></pre>
                      </div>
                    </div>
                  </div>
                  <dl>
                    <dt>value</dt>
                    <dd>A value to encode.</dd>
                    <dt>replacer</dt>
                    <dd>
                      Array of properties to encode or a mapping function
                      <code>function(key, value)</code>.
                    </dd>
                    <dt>space</dt>
                    <dd>Amount of space to use for formatting</dd>
                  </dl>
                  <p>
                    Most of the time, <code>JSON.stringify</code> is used with
                    the first argument only. But if we need to fine-tune the
                    replacement process, like to filter out circular references,
                    we can use the second argument of
                    <code>JSON.stringify</code>.
                  </p>
                  <p>
                    If we pass an array of properties to it, only these
                    properties will be encoded.
                  </p>
                  <p>For instance:</p>
                  <div
                    id="g82pckz5kn"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":12,"cols":[{"start":30,"end":55}]}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let room = {
  number: 23
};

let meetup = {
  title: &quot;Conference&quot;,
  participants: [{name: &quot;John&quot;}, {name: &quot;Alice&quot;}],
  place: room // meetup references room
};

room.occupiedBy = meetup; // room references meetup

alert( JSON.stringify(meetup, ['title', 'participants']) );
// {&quot;title&quot;:&quot;Conference&quot;,&quot;participants&quot;:[{},{}]}</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    Here we are probably too strict. The property list is
                    applied to the whole object structure. So the objects in
                    <code>participants</code> are empty, because
                    <code>name</code> is not in the list.
                  </p>
                  <p>
                    Let’s include in the list every property except
                    <code>room.occupiedBy</code> that would cause the circular
                    reference:
                  </p>
                  <div
                    id="7vko7l940f"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":12,"cols":[{"start":30,"end":82}]}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let room = {
  number: 23
};

let meetup = {
  title: &quot;Conference&quot;,
  participants: [{name: &quot;John&quot;}, {name: &quot;Alice&quot;}],
  place: room // meetup references room
};

room.occupiedBy = meetup; // room references meetup

alert( JSON.stringify(meetup, ['title', 'participants', 'place', 'name', 'number']) );
/*
{
  &quot;title&quot;:&quot;Conference&quot;,
  &quot;participants&quot;:[{&quot;name&quot;:&quot;John&quot;},{&quot;name&quot;:&quot;Alice&quot;}],
  &quot;place&quot;:{&quot;number&quot;:23}
}
*/</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    Now everything except <code>occupiedBy</code> is serialized.
                    But the list of properties is quite long.
                  </p>
                  <p>
                    Fortunately, we can use a function instead of an array as
                    the <code>replacer</code>.
                  </p>
                  <p>
                    The function will be called for every
                    <code>(key, value)</code> pair and should return the
                    “replaced” value, which will be used instead of the original
                    one. Or <code>undefined</code> if the value is to be
                    skipped.
                  </p>
                  <p>
                    In our case, we can return <code>value</code> “as is” for
                    everything except <code>occupiedBy</code>. To ignore
                    <code>occupiedBy</code>, the code below returns
                    <code>undefined</code>:
                  </p>
                  <div id="fg8d39i83m" data-trusted="1" class="code-example">
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let room = {
  number: 23
};

let meetup = {
  title: &quot;Conference&quot;,
  participants: [{name: &quot;John&quot;}, {name: &quot;Alice&quot;}],
  place: room // meetup references room
};

room.occupiedBy = meetup; // room references meetup

alert( JSON.stringify(meetup, function replacer(key, value) {
  alert(`${key}: ${value}`);
  return (key == 'occupiedBy') ? undefined : value;
}));

/* key:value pairs that come to replacer:
:             [object Object]
title:        Conference
participants: [object Object],[object Object]
0:            [object Object]
name:         John
1:            [object Object]
name:         Alice
place:        [object Object]
number:       23
occupiedBy: [object Object]
*/</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    Please note that <code>replacer</code> function gets every
                    key/value pair including nested objects and array items. It
                    is applied recursively. The value of
                    <code>this</code> inside <code>replacer</code> is the object
                    that contains the current property.
                  </p>
                  <p>
                    The first call is special. It is made using a special
                    “wrapper object”: <code>{&quot;&quot;: meetup}</code>. In
                    other words, the first <code>(key, value)</code> pair has an
                    empty key, and the value is the target object as a whole.
                    That’s why the first line is
                    <code>&quot;:[object Object]&quot;</code> in the example
                    above.
                  </p>
                  <p>
                    The idea is to provide as much power for
                    <code>replacer</code> as possible: it has a chance to
                    analyze and replace/skip even the whole object if necessary.
                  </p>
                  <h2>
                    <a
                      class="main__anchor"
                      name="formatting-space"
                      href="#formatting-space"
                      >Formatting: space</a
                    >
                  </h2>
                  <p>
                    The third argument of
                    <code>JSON.stringify(value, replacer, space)</code> is the
                    number of spaces to use for pretty formatting.
                  </p>
                  <p>
                    Previously, all stringified objects had no indents and extra
                    spaces. That’s fine if we want to send an object over a
                    network. The <code>space</code> argument is used exclusively
                    for a nice output.
                  </p>
                  <p>
                    Here <code>space = 2</code> tells JavaScript to show nested
                    objects on multiple lines, with indentation of 2 spaces
                    inside an object:
                  </p>
                  <div id="zie5yi885g" data-trusted="1" class="code-example">
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let user = {
  name: &quot;John&quot;,
  age: 25,
  roles: {
    isAdmin: false,
    isEditor: true
  }
};

alert(JSON.stringify(user, null, 2));
/* two-space indents:
{
  &quot;name&quot;: &quot;John&quot;,
  &quot;age&quot;: 25,
  &quot;roles&quot;: {
    &quot;isAdmin&quot;: false,
    &quot;isEditor&quot;: true
  }
}
*/

/* for JSON.stringify(user, null, 4) the result would be more indented:
{
    &quot;name&quot;: &quot;John&quot;,
    &quot;age&quot;: 25,
    &quot;roles&quot;: {
        &quot;isAdmin&quot;: false,
        &quot;isEditor&quot;: true
    }
}
*/</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    The third argument can also be a string. In this case, the
                    string is used for indentation instead of a number of
                    spaces.
                  </p>
                  <p>
                    The <code>space</code> parameter is used solely for logging
                    and nice-output purposes.
                  </p>
                  <h2>
                    <a
                      class="main__anchor"
                      name="custom-tojson"
                      href="#custom-tojson"
                      >Custom “toJSON”</a
                    >
                  </h2>
                  <p>
                    Like <code>toString</code> for string conversion, an object
                    may provide method <code>toJSON</code> for to-JSON
                    conversion. <code>JSON.stringify</code> automatically calls
                    it if available.
                  </p>
                  <p>For instance:</p>
                  <div
                    id="wsgkhc8vsx"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":14,"end":14}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let room = {
  number: 23
};

let meetup = {
  title: &quot;Conference&quot;,
  date: new Date(Date.UTC(2017, 0, 1)),
  room
};

alert( JSON.stringify(meetup) );
/*
  {
    &quot;title&quot;:&quot;Conference&quot;,
    &quot;date&quot;:&quot;2017-01-01T00:00:00.000Z&quot;,  // (1)
    &quot;room&quot;: {&quot;number&quot;:23}               // (2)
  }
*/</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    Here we can see that <code>date</code>
                    <code>(1)</code> became a string. That’s because all dates
                    have a built-in <code>toJSON</code> method which returns
                    such kind of string.
                  </p>
                  <p>
                    Now let’s add a custom <code>toJSON</code> for our object
                    <code>room</code> <code>(2)</code>:
                  </p>
                  <div
                    id="8mobcs7ht1"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":18,"end":18},{"start":12,"end":12},{"start":2,"end":4}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let room = {
  number: 23,
  toJSON() {
    return this.number;
  }
};

let meetup = {
  title: &quot;Conference&quot;,
  room
};

alert( JSON.stringify(room) ); // 23

alert( JSON.stringify(meetup) );
/*
  {
    &quot;title&quot;:&quot;Conference&quot;,
    &quot;room&quot;: 23
  }
*/</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    As we can see, <code>toJSON</code> is used both for the
                    direct call <code>JSON.stringify(room)</code> and when
                    <code>room</code> is nested in another encoded object.
                  </p>
                  <h2>
                    <a class="main__anchor" name="json-parse" href="#json-parse"
                      >JSON.parse</a
                    >
                  </h2>
                  <p>
                    To decode a JSON-string, we need another method named
                    <a
                      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"
                      >JSON.parse</a
                    >.
                  </p>
                  <p>The syntax:</p>
                  <div id="mxk8fv98w4" data-trusted="1" class="code-example">
                    <div class="codebox code-example__codebox">
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let value = JSON.parse(str, [reviver]);</code></pre>
                      </div>
                    </div>
                  </div>
                  <dl>
                    <dt>str</dt>
                    <dd>JSON-string to parse.</dd>
                    <dt>reviver</dt>
                    <dd>
                      Optional function(key,value) that will be called for each
                      <code>(key, value)</code> pair and can transform the
                      value.
                    </dd>
                  </dl>
                  <p>For instance:</p>
                  <div id="49s1a6oag9" data-trusted="1" class="code-example">
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>// stringified array
let numbers = &quot;[0, 1, 2, 3]&quot;;

numbers = JSON.parse(numbers);

alert( numbers[1] ); // 1</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>Or for nested objects:</p>
                  <div id="k5x2xoc80z" data-trusted="1" class="code-example">
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let userData = '{ &quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 35, &quot;isAdmin&quot;: false, &quot;friends&quot;: [0,1,2,3] }';

let user = JSON.parse(userData);

alert( user.friends[1] ); // 1</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    The JSON may be as complex as necessary, objects and arrays
                    can include other objects and arrays. But they must obey the
                    same JSON format.
                  </p>
                  <p>
                    Here are typical mistakes in hand-written JSON (sometimes we
                    have to write it for debugging purposes):
                  </p>
                  <div
                    id="4nez1y8jlu"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":4,"cols":[{"start":14,"end":34}]},{"start":3,"cols":[{"start":2,"end":11}]},{"start":2,"cols":[{"start":13,"end":20}]},{"start":1,"cols":[{"start":2,"end":6}]}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let json = `{
  name: &quot;John&quot;,                     // mistake: property name without quotes
  &quot;surname&quot;: 'Smith',               // mistake: single quotes in value (must be double)
  'isAdmin': false                  // mistake: single quotes in key (must be double)
  &quot;birthday&quot;: new Date(2000, 2, 3), // mistake: no &quot;new&quot; is allowed, only bare values
  &quot;friends&quot;: [0,1,2,3]              // here all fine
}`;</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    Besides, JSON does not support comments. Adding a comment to
                    JSON makes it invalid.
                  </p>
                  <p>
                    There’s another format named
                    <a href="http://json5.org/">JSON5</a>, which allows unquoted
                    keys, comments etc. But this is a standalone library, not in
                    the specification of the language.
                  </p>
                  <p>
                    The regular JSON is that strict not because its developers
                    are lazy, but to allow easy, reliable and very fast
                    implementations of the parsing algorithm.
                  </p>
                  <h2>
                    <a
                      class="main__anchor"
                      name="using-reviver"
                      href="#using-reviver"
                      >Using reviver</a
                    >
                  </h2>
                  <p>
                    Imagine, we got a stringified <code>meetup</code> object
                    from the server.
                  </p>
                  <p>It looks like this:</p>
                  <div id="cenz3hegmz" data-trusted="1" class="code-example">
                    <div class="codebox code-example__codebox">
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>// title: (meetup title), date: (meetup date)
let str = '{&quot;title&quot;:&quot;Conference&quot;,&quot;date&quot;:&quot;2017-11-30T12:00:00.000Z&quot;}';</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>
                    …And now we need to <em>deserialize</em> it, to turn back
                    into JavaScript object.
                  </p>
                  <p>Let’s do it by calling <code>JSON.parse</code>:</p>
                  <div
                    id="h3xjxbrrnc"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":4,"end":4}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let str = '{&quot;title&quot;:&quot;Conference&quot;,&quot;date&quot;:&quot;2017-11-30T12:00:00.000Z&quot;}';

let meetup = JSON.parse(str);

alert( meetup.date.getDate() ); // Error!</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>Whoops! An error!</p>
                  <p>
                    The value of <code>meetup.date</code> is a string, not a
                    <code>Date</code> object. How could
                    <code>JSON.parse</code> know that it should transform that
                    string into a <code>Date</code>?
                  </p>
                  <p>
                    Let’s pass to <code>JSON.parse</code> the reviving function
                    as the second argument, that returns all values “as is”, but
                    <code>date</code> will become a <code>Date</code>:
                  </p>
                  <div
                    id="dkswqxman6"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":2,"end":5}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let str = '{&quot;title&quot;:&quot;Conference&quot;,&quot;date&quot;:&quot;2017-11-30T12:00:00.000Z&quot;}';

let meetup = JSON.parse(str, function(key, value) {
  if (key == 'date') return new Date(value);
  return value;
});

alert( meetup.date.getDate() ); // now works!</code></pre>
                      </div>
                    </div>
                  </div>
                  <p>By the way, that works for nested objects as well:</p>
                  <div
                    id="6uqoi1bev8"
                    data-trusted="1"
                    class="code-example"
                    data-highlight='[{"start":12,"end":12}]'
                  >
                    <div class="codebox code-example__codebox">
                      <div class="toolbar codebox__toolbar">
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="run"
                            data-action="run"
                            class="toolbar__button toolbar__button_run"
                          ></a>
                        </div>
                        <div class="toolbar__tool">
                          <a
                            href="#"
                            title="open in sandbox"
                            target="_blank"
                            data-action="edit"
                            class="toolbar__button toolbar__button_edit"
                          ></a>
                        </div>
                      </div>
                      <div class="codebox__code" data-code="1">
                        <pre
                          class="line-numbers language-javascript"
                        ><code>let schedule = `{
  &quot;meetups&quot;: [
    {&quot;title&quot;:&quot;Conference&quot;,&quot;date&quot;:&quot;2017-11-30T12:00:00.000Z&quot;},
    {&quot;title&quot;:&quot;Birthday&quot;,&quot;date&quot;:&quot;2017-04-18T12:00:00.000Z&quot;}
  ]
}`;

schedule = JSON.parse(schedule, function(key, value) {
  if (key == 'date') return new Date(value);
  return value;
});

alert( schedule.meetups[1].date.getDate() ); // works!</code></pre>
                      </div>
                    </div>
                  </div>
                  <h2>
                    <a class="main__anchor" name="summary" href="#summary"
                      >Summary</a
                    >
                  </h2>
                  <ul>
                    <li>
                      JSON is a data format that has its own independent
                      standard and libraries for most programming languages.
                    </li>
                    <li>
                      JSON supports plain objects, arrays, strings, numbers,
                      booleans, and <code>null</code>.
                    </li>
                    <li>
                      JavaScript provides methods
                      <a
                        href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify"
                        >JSON.stringify</a
                      >
                      to serialize into JSON and
                      <a
                        href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"
                        >JSON.parse</a
                      >
                      to read from JSON.
                    </li>
                    <li>
                      Both methods support transformer functions for smart
                      reading/writing.
                    </li>
                    <li>
                      If an object has <code>toJSON</code>, then it is called by
                      <code>JSON.stringify</code>.
                    </li>
                  </ul>
                </div>
              </article>
              <div class="tasks formatted">
                <h2 class="tasks__title" id="tasks">
                  <a
                    class="tasks__title-anchor main__anchor main__anchor main__anchor_noicon"
                    href="#tasks"
                    >Tasks</a
                  >
                </h2>
                <div class="task tasks__task">
                  <div class="task__header">
                    <div class="task__title-wrap">
                      <h3 class="task__title">
                        <a
                          class="main__anchor"
                          href="#turn-the-object-into-json-and-back"
                          name="turn-the-object-into-json-and-back"
                          >Turn the object into JSON and back</a
                        >
                      </h3>
                      <a
                        class="task__open-link"
                        href="/task/serialize-object"
                        target="_blank"
                      ></a>
                    </div>
                    <div class="task__header-note">
                      <span
                        class="task__importance"
                        title="How important is the task, from 1 to 5"
                        >importance: 5</span
                      >
                    </div>
                    <div class="task__content">
                      <div class="task__formatted">
                        <p>
                          Turn the <code>user</code> into JSON and then read it
                          back into another variable.
                        </p>
                        <div
                          id="j9u5rsnq19"
                          data-trusted="1"
                          class="code-example"
                        >
                          <div class="codebox code-example__codebox">
                            <div class="codebox__code" data-code="1">
                              <pre
                                class="line-numbers language-javascript"
                              ><code>let user = {
  name: &quot;John Smith&quot;,
  age: 35
};</code></pre>
                            </div>
                          </div>
                        </div>
                      </div>
                      <button class="task__solution" type="button">
                        solution
                      </button>
                      <div class="task__answer">
                        <div class="task__answer-content">
                          <div class="formatted">
                            <div
                              id="fxdsor2wki"
                              data-trusted="1"
                              class="code-example"
                              data-highlight='[{"start":5,"end":5}]'
                            >
                              <div class="codebox code-example__codebox">
                                <div class="codebox__code" data-code="1">
                                  <pre
                                    class="line-numbers language-javascript"
                                  ><code>let user = {
  name: &quot;John Smith&quot;,
  age: 35
};

let user2 = JSON.parse(JSON.stringify(user));</code></pre>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <button
                          class="close-button task__answer-close"
                          type="button"
                          title="close"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="task tasks__task">
                  <div class="task__header">
                    <div class="task__title-wrap">
                      <h3 class="task__title">
                        <a
                          class="main__anchor"
                          href="#exclude-backreferences"
                          name="exclude-backreferences"
                          >Exclude backreferences</a
                        >
                      </h3>
                      <a
                        class="task__open-link"
                        href="/task/serialize-event-circular"
                        target="_blank"
                      ></a>
                    </div>
                    <div class="task__header-note">
                      <span
                        class="task__importance"
                        title="How important is the task, from 1 to 5"
                        >importance: 5</span
                      >
                    </div>
                    <div class="task__content">
                      <div class="task__formatted">
                        <p>
                          In simple cases of circular references, we can exclude
                          an offending property from serialization by its name.
                        </p>
                        <p>
                          But sometimes we can’t just use the name, as it may be
                          used both in circular references and normal
                          properties. So we can check the property by its value.
                        </p>
                        <p>
                          Write <code>replacer</code> function to stringify
                          everything, but remove properties that reference
                          <code>meetup</code>:
                        </p>
                        <div
                          id="mfmeelfcxd"
                          data-trusted="1"
                          class="code-example"
                          data-highlight='[{"start":10,"end":12}]'
                        >
                          <div class="codebox code-example__codebox">
                            <div class="toolbar codebox__toolbar">
                              <div class="toolbar__tool">
                                <a
                                  href="#"
                                  title="run"
                                  data-action="run"
                                  class="toolbar__button toolbar__button_run"
                                ></a>
                              </div>
                              <div class="toolbar__tool">
                                <a
                                  href="#"
                                  title="open in sandbox"
                                  target="_blank"
                                  data-action="edit"
                                  class="toolbar__button toolbar__button_edit"
                                ></a>
                              </div>
                            </div>
                            <div class="codebox__code" data-code="1">
                              <pre
                                class="line-numbers language-javascript"
                              ><code>let room = {
  number: 23
};

let meetup = {
  title: &quot;Conference&quot;,
  occupiedBy: [{name: &quot;John&quot;}, {name: &quot;Alice&quot;}],
  place: room
};

// circular references
room.occupiedBy = meetup;
meetup.self = meetup;

alert( JSON.stringify(meetup, function replacer(key, value) {
  /* your code */
}));

/* result should be:
{
  &quot;title&quot;:&quot;Conference&quot;,
  &quot;occupiedBy&quot;:[{&quot;name&quot;:&quot;John&quot;},{&quot;name&quot;:&quot;Alice&quot;}],
  &quot;place&quot;:{&quot;number&quot;:23}
}
*/</code></pre>
                            </div>
                          </div>
                        </div>
                      </div>
                      <button class="task__solution" type="button">
                        solution
                      </button>
                      <div class="task__answer">
                        <div class="task__answer-content">
                          <div class="formatted">
                            <div
                              id="iltmzdwwc2"
                              data-trusted="1"
                              class="code-example"
                            >
                              <div class="codebox code-example__codebox">
                                <div class="toolbar codebox__toolbar">
                                  <div class="toolbar__tool">
                                    <a
                                      href="#"
                                      title="run"
                                      data-action="run"
                                      class="toolbar__button toolbar__button_run"
                                    ></a>
                                  </div>
                                  <div class="toolbar__tool">
                                    <a
                                      href="#"
                                      title="open in sandbox"
                                      target="_blank"
                                      data-action="edit"
                                      class="toolbar__button toolbar__button_edit"
                                    ></a>
                                  </div>
                                </div>
                                <div class="codebox__code" data-code="1">
                                  <pre
                                    class="line-numbers language-javascript"
                                  ><code>let room = {
  number: 23
};

let meetup = {
  title: &quot;Conference&quot;,
  occupiedBy: [{name: &quot;John&quot;}, {name: &quot;Alice&quot;}],
  place: room
};

room.occupiedBy = meetup;
meetup.self = meetup;

alert( JSON.stringify(meetup, function replacer(key, value) {
  return (key != &quot;&quot; &amp;&amp; value == meetup) ? undefined : value;
}));

/*
{
  &quot;title&quot;:&quot;Conference&quot;,
  &quot;occupiedBy&quot;:[{&quot;name&quot;:&quot;John&quot;},{&quot;name&quot;:&quot;Alice&quot;}],
  &quot;place&quot;:{&quot;number&quot;:23}
}
*/</code></pre>
                                </div>
                              </div>
                            </div>
                            <p>
                              Here we also need to test
                              <code>key==&quot;&quot;</code> to exclude the
                              first call where it is normal that
                              <code>value</code> is <code>meetup</code>.
                            </p>
                          </div>
                        </div>
                        <button
                          class="close-button task__answer-close"
                          type="button"
                          title="close"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="page__nav-wrap">
              <a
                class="page__nav page__nav_prev"
                href="/date"
                data-tooltip="Date and time"
                ><span class="page__nav-text"
                  ><span class="page__nav-text-shortcut"></span></span
                ><span class="page__nav-text-alternate"
                  >Previous lesson</span
                ></a
              ><a
                class="page__nav page__nav_next"
                href="/advanced-functions"
                data-tooltip="Advanced working with functions"
                ><span class="page__nav-text"
                  ><span class="page__nav-text-shortcut"></span></span
                ><span class="page__nav-text-alternate">Next lesson</span></a
              >
            </div>
            <div class="article-tablet-foot tablet-only">
              <div class="article-tablet-foot__layout">
                <div class="share-icons">
                  <span class="share-icons__title">Share</span
                  ><a
                    class="share share_tw"
                    href="https://twitter.com/share?url=https%3A%2F%2Fjavascript.info%2Fjson"
                    rel="nofollow"
                  ></a
                  ><a
                    class="share share_fb"
                    href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjavascript.info%2Fjson"
                    rel="nofollow"
                  ></a>
                </div>
                <div class="article-tablet-foot__map">
                  <a class="map" href="/tutorial/map" data-action="tutorial-map"
                    ><span class="map__text">Tutorial map</span></a
                  >
                </div>
              </div>
            </div>
            <div class="comments formatted" id="comments">
              <div class="comments__header">
                <h2 class="comments__header-title">
                  <a href="#comments" name="comments">Comments</a>
                </h2>
                <div class="comments__read-before">
                  <span class="comments__read-before-link"
                    >read this before commenting…</span
                  >
                  <div class="comments__read-before-popup">
                    <div class="comments__read-before-popup-i">
                      <ul>
                        <li>
                          If you have suggestions what to improve - please
                          <a
                            href="https://github.com/javascript-tutorial/en.javascript.info/issues/new"
                            >submit a GitHub issue</a
                          >
                          or a pull request instead of commenting.
                        </li>
                        <li>
                          If you can't understand something in the article –
                          please elaborate.
                        </li>
                        <li>
                          To insert few words of code, use the
                          <code>&lt;code&gt;</code> tag, for several lines –
                          wrap them in <code>&lt;pre&gt;</code> tag, for more
                          than 10 lines – use a sandbox (<a
                            href="https://plnkr.co/edit/?p=preview"
                            >plnkr</a
                          >, <a href="https://jsbin.com">jsbin</a>,
                          <a href="http://codepen.io">codepen</a>…)
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div id="disqus_thread"></div>
              <script>
                var disqus_config = function () {
                  if (!this.page) this.page = {};
                  Object.assign(this.page, {
                    url: "https:\/\/javascript.info\/json",
                    identifier: "\/json",
                  });
                };
              </script>
              <script>
                var disqus_shortname = "javascriptinfo";
              </script>
              <script>
                var disqus_enabled = true;
              </script>
            </div>
          </main>
        </div>
        <div class="sidebar page__sidebar sidebar sidebar_sticky-footer">
          <button class="sidebar__toggle" data-sidebar-toggle></button
          ><a
            class="map"
            href="/tutorial/map"
            data-action="tutorial-map"
            data-tooltip="Tutorial map"
          ></a>
          <div class="sidebar__inner">
            <div class="sidebar__content">
              <div class="sidebar__section">
                <h4 class="sidebar__section-title">Chapter</h4>
                <nav class="sidebar__navigation">
                  <ul class="sidebar__navigation-links">
                    <li class="sidebar__navigation-link">
                      <a class="sidebar__link" href="/data-types">Data types</a>
                    </li>
                  </ul>
                </nav>
              </div>
              <div class="sidebar__section">
                <h4 class="sidebar__section-title">Lesson navigation</h4>
                <nav class="sidebar__navigation">
                  <ul class="sidebar__navigation-links">
                    <li class="sidebar__navigation-link">
                      <a class="sidebar__link" href="#json-stringify"
                        >JSON.stringify</a
                      >
                    </li>
                    <li class="sidebar__navigation-link">
                      <a
                        class="sidebar__link"
                        href="#excluding-and-transforming-replacer"
                        >Excluding and transforming: replacer</a
                      >
                    </li>
                    <li class="sidebar__navigation-link">
                      <a class="sidebar__link" href="#formatting-space"
                        >Formatting: space</a
                      >
                    </li>
                    <li class="sidebar__navigation-link">
                      <a class="sidebar__link" href="#custom-tojson"
                        >Custom “toJSON”</a
                      >
                    </li>
                    <li class="sidebar__navigation-link">
                      <a class="sidebar__link" href="#json-parse">JSON.parse</a>
                    </li>
                    <li class="sidebar__navigation-link">
                      <a class="sidebar__link" href="#using-reviver"
                        >Using reviver</a
                      >
                    </li>
                    <li class="sidebar__navigation-link">
                      <a class="sidebar__link" href="#summary">Summary</a>
                    </li>
                  </ul>
                </nav>
              </div>
              <div class="sidebar__section">
                <nav class="sidebar__navigation">
                  <ul class="sidebar__navigation-links">
                    <li class="sidebar__navigation-link">
                      <a class="sidebar__link" href="#tasks">Tasks (2)</a>
                    </li>
                    <li class="sidebar__navigation-link">
                      <a class="sidebar__link" href="#comments">Comments</a>
                    </li>
                  </ul>
                </nav>
              </div>
              <div class="sidebar__section">
                <div class="sidebar__section-title">Share</div>
                <a
                  class="share share_tw sidebar__share"
                  href="https://twitter.com/share?url=https%3A%2F%2Fjavascript.info%2Fjson"
                  rel="nofollow"
                ></a
                ><a
                  class="share share_fb sidebar__share"
                  href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2Fjavascript.info%2Fjson"
                  rel="nofollow"
                ></a>
              </div>
              <div class="sidebar__section">
                <a
                  class="sidebar__link"
                  href="https://github.com/javascript-tutorial/en.javascript.info/blob/master/1-js/05-data-types/12-json"
                  rel="nofollow"
                  >Edit on GitHub</a
                >
              </div>
              <div class="sidebar__section" id="sponsorBar">
                <div class="sidebar__section-title" id="sponsorBarTitle"></div>
                <div id="sponsorBarContent"></div>
                <script>
                  window.initSponsorBar();
                </script>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="page-footer">
      <ul class="page-footer__list">
        <li class="page-footer__item page-footer__item_copy">
          ©&nbsp;2007—2021&nbsp; Ilya Kantor
        </li>
        <li class="page-footer__item page-footer__item_about">
          <a class="page-footer__link" href="/about">about the project</a>
        </li>
        <li class="page-footer__item page-footer__item_contact">
          <a class="page-footer__link" href="/about#contact-us">contact us</a>
        </li>
        <li class="page-footer__item page-footer__item_terms">
          <a class="page-footer__link" href="/terms">terms of usage</a>
        </li>
        <li class="page-footer__item page-footer__item_privacy">
          <a class="page-footer__link" href="/privacy">privacy policy</a>
        </li>
      </ul>
    </div>
  </body>
</html>
